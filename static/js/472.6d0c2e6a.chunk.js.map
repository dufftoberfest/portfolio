{"version":3,"file":"static/js/472.6d0c2e6a.chunk.js","mappings":"gKAEA,MA8BA,EA9B0DA,IAAmB,IAAlB,IAAEC,EAAG,IAAEC,GAAKF,EACrE,MAAMG,GAASC,EAAAA,EAAAA,QAAyB,MA0BxC,OAzBDC,EAAAA,EAAAA,YAAU,KACTC,QAAQC,IAAI,wBAAwB,GACnC,KAEDF,EAAAA,EAAAA,YAAU,KACR,MAAMG,EAAW,IAAIC,sBAAqBC,IACxCA,EAAQC,SAAQC,IACVA,EAAMC,gBAAkBV,EAAOW,UACjCX,EAAOW,QAAQb,IAAMA,EACrBO,EAASO,UAAUZ,EAAOW,SAC5B,GACA,IAOJ,OAJIX,EAAOW,SACTN,EAASQ,QAAQb,EAAOW,SAGnB,KACDX,EAAOW,SACTN,EAASO,UAAUZ,EAAOW,QAC5B,CACD,GACA,CAACb,KAEGgB,EAAAA,EAAAA,KAAA,OAAKC,IAAKf,EAAQF,IAAI,kBAAkBC,IAAKA,GAAO,E,aCnB7D,MAgGA,EAhGsCiB,IACrCb,QAAQC,IAAI,oBACZ,MAAMa,EAAsB,GAC5BC,EAAAA,EAAYV,SAAQ,CAACW,EAAIC,KACxBH,EAAUI,KAAK,GAADC,OAAIC,aAAsB,aAAAD,OAAYH,EAAGK,IAAIC,KAAI,KAAAH,OAAIH,EAAGO,WAAWC,KAAI,QAAO,IAG7F,MAAOC,EAAWC,IAAgBC,EAAAA,EAAAA,WAAS,GAC3C,IAAKC,EAAOC,IAAYF,EAAAA,EAAAA,WAAS,IAC5BG,EAAQC,IAAaJ,EAAAA,EAAAA,UAAS,GAoCnC,OAlCA5B,EAAAA,EAAAA,YAAU,KACT,MAAMiC,EAAkBC,MAAMnB,EAAUoB,QAAQC,MAAK,GACrD,IAAIC,EAAmB,EAEvB,MAOMC,EAAmBC,IAExBN,EAAgBM,IAAS,EACzBF,IARIA,IAAqBtB,EAAUoB,QAClCR,GAAa,EAQQ,EAWvB,OAPAZ,EAAUT,SAAQ,CAACkC,EAAUD,KAC5B,MAAME,EAAQ,IAAIC,MAClBD,EAAME,OAAS,IAAML,EAAgBC,GACrCE,EAAM7C,IAAM4C,CAAQ,IAId,KAENzB,EAAUT,SAAQ,CAACkC,EAAUD,MACf,IAAIG,OACZC,OAAS,IAAI,GACjB,CACF,GACC,CAAC5B,KAEH6B,EAAAA,EAAAA,MAAA,OAAKC,UAAU,YAAWC,SAAA,CACvBpB,IAAad,EAAAA,EAAAA,KAAA,SAAOiC,UAAU,oBAAmBC,UAAClC,EAAAA,EAAAA,KAAA,OAAKhB,IAAG,GAAAwB,OAAKC,aAAsB,yBAAyBxB,IAAI,OAEnHgC,GACCjB,EAAAA,EAAAA,KAACmC,EAAAA,EAAK,CAAClB,MAAOA,EAAOC,SAAUA,EAAUC,OAAQA,EAAQC,UAAWA,EAAWgB,SAAUlC,EAAMkC,SAAUC,YAAanC,EAAMmC,cAC5H,MAEFrC,EAAAA,EAAAA,KAAA,MAAAkC,SAAI,aACJlC,EAAAA,EAAAA,KAAA,WAAAkC,UACClC,EAAAA,EAAAA,KAAA,MAAIiC,UAAU,KAAIC,SAEhB9B,EAAAA,EAAYkC,KAAI,CAACjC,EAAIC,KAEnBN,EAAAA,EAAAA,KAAA,MAAAkC,UACCF,EAAAA,EAAAA,MAAA,KAAGO,KAAK,IAAIC,QAAUC,IACrBA,EAAEC,iBACFxB,GAAUD,GACVG,EAAUd,EAAE,EACX4B,SAAA,EACDlC,EAAAA,EAAAA,KAAC2C,EAAS,CAAC3D,IAAG,GAAAwB,OAAKC,aAAsB,aAAAD,OAAYH,EAAGK,IAAIC,KAAI,KAAAH,OAAIH,EAAGO,WAAWC,KAAI,QAAQ5B,IAAI,MAClGe,EAAAA,EAAAA,KAAA,OAAKiC,UAAU,WACfD,EAAAA,EAAAA,MAAA,OAAKC,UAAU,OAAMC,SAAA,EACpBlC,EAAAA,EAAAA,KAAA,KAAGiC,UAAU,UAASC,SAEpBhC,EAAMkC,SACJ/B,EAAGuC,YAAYC,IACfxC,EAAGuC,YAAYE,OAGnB9C,EAAAA,EAAAA,KAAA,OAAKiC,UAAU,OAAMC,SAEnB7B,EAAG0C,OAAOT,KAAI,CAACU,EAASC,KAEtBjD,EAAAA,EAAAA,KAAA,QAAMiC,UAAU,MAAKC,SAAUc,GAAJC,cApBzB3C,WAiCT,C","sources":["components/LazyImage.tsx","components/Test.tsx"],"sourcesContent":["import React, { useEffect, useRef } from 'react';\r\n\r\nconst LazyImage: React.FC<{ src: string; alt: string }> = ({ src, alt }) => {\r\n  const imgRef = useRef<HTMLImageElement>(null);\r\n\tuseEffect(()=>{\r\n\t\tconsole.log('LazyImage rerendering')\r\n\t},[])\r\n\r\n  useEffect(() => {\r\n    const observer = new IntersectionObserver(entries => {\r\n      entries.forEach(entry => {\r\n        if (entry.isIntersecting && imgRef.current) {\r\n          imgRef.current.src = src;\r\n          observer.unobserve(imgRef.current);\r\n        }\r\n      });\r\n    });\r\n\r\n    if (imgRef.current) {\r\n      observer.observe(imgRef.current);\r\n    }\r\n\r\n    return () => {\r\n      if (imgRef.current) {\r\n        observer.unobserve(imgRef.current);\r\n      }\r\n    };\r\n  }, [src]);\r\n\r\n  return <img ref={imgRef} src=\"placeholder.jpg\" alt={alt} />;\r\n};\r\n\r\nexport default LazyImage;","import { useEffect, useRef, useState } from 'react';\r\nimport projectList from './projectList'\r\nimport LazyImage from './LazyImage';\r\nimport Modal from './Modal'\r\n\r\ninterface ProjectProps {\r\n    language: boolean;\r\n    setLanguage: React.Dispatch<React.SetStateAction<boolean>>;\r\n}\r\n\r\nconst Test: React.FC<ProjectProps> = (props) => {\r\n\tconsole.log('Test rerendering')\r\n\tconst imageUrls :string[] = []; // 로드할 이미지 URL 목록\r\n\tprojectList.forEach((el, i)=>{\r\n\t\timageUrls.push(`${process.env.PUBLIC_URL}/img/jpg/${el.rsc.name}_${el.responsive.main}.jpg`)\r\n\t})\r\n\r\n\tconst [isLoading, setIsLoading] = useState(true); // 모든 이미지가 로드되었는지 여부를 추적하는 상태 변수\r\n\tlet [modal, setModal] = useState(false);\r\n\tlet [target, setTarget] = useState(0);\r\n  \r\n\tuseEffect(() => {\r\n\t\tconst imageLoadStatus = Array(imageUrls.length).fill(true); // 각 이미지의 로딩 상태를 추적하는 배열 생성\r\n\t\tlet loadedImageCount = 0; // 로드된 이미지의 개수를 추적하는 변수\r\n\t\r\n\t\tconst checkAllImagesLoaded = () => {\r\n\t\t\t// 모든 이미지가 로드되었는지 확인\r\n\t\t\tif (loadedImageCount === imageUrls.length) {\r\n\t\t\t\tsetIsLoading(false);\r\n\t\t\t}\r\n\t\t};\r\n\t\r\n\t\tconst handleImageLoad = (index:number) => {\r\n\t\t\t// 이미지가 로드될 때 호출되는 콜백 함수\r\n\t\t\timageLoadStatus[index] = true; // 해당 이미지의 로딩 상태를 true로 변경\r\n\t\t\tloadedImageCount++; // 로드된 이미지 개수 증가\r\n\t\t\tcheckAllImagesLoaded(); // 모든 이미지가 로드되었는지 확인\r\n\t\t};\r\n\t\r\n\t\t// 각 이미지의 로드를 감지하기 위해 onload 이벤트 핸들러 추가\r\n\t\timageUrls.forEach((imageUrl, index) => {\r\n\t\t\tconst image = new Image();\r\n\t\t\timage.onload = () => handleImageLoad(index);\r\n\t\t\timage.src = imageUrl;\r\n\t\t});\r\n\t\r\n\t\t// 컴포넌트가 언마운트될 때 이벤트 리스너 제거\r\n\t\treturn () => {\r\n\t\t\t// 이미지 요소의 onload 이벤트 핸들러 제거\r\n\t\t\timageUrls.forEach((imageUrl, index) => {\r\n\t\t\tconst image = new Image();\r\n\t\t\timage.onload = null;\r\n\t\t\t});\r\n\t\t};\r\n\t}, [imageUrls]); // imageUrls 배열이 변경될 때마다 useEffect 재실행\r\n\treturn(\r\n\t\t<div className=\"container\">\r\n\t\t\t{ isLoading && <aside className=\"msg-cover loading\"><img src={`${process.env.PUBLIC_URL}/img/icon-loading.gif`} alt=\"\" /></aside> }\r\n\t\t\t{\r\n\t\t\t\tmodal\r\n\t\t\t\t?<Modal modal={modal} setModal={setModal} target={target} setTarget={setTarget} language={props.language} setLanguage={props.setLanguage}/>\r\n\t\t\t\t:null\r\n\t\t\t}\r\n\t\t\t<h1>Project</h1>\r\n\t\t\t<section>\r\n\t\t\t\t<ul className=\"pj\">\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tprojectList.map((el, i)=>{\r\n\t\t\t\t\t\t\treturn(\r\n\t\t\t\t\t\t\t\t<li key={i}>\r\n\t\t\t\t\t\t\t\t\t<a href=\"#\" onClick={(e)=>{\r\n\t\t\t\t\t\t\t\t\t\te.preventDefault();\r\n\t\t\t\t\t\t\t\t\t\tsetModal(!modal)\r\n\t\t\t\t\t\t\t\t\t\tsetTarget(i)\r\n\t\t\t\t\t\t\t\t\t}}>\r\n\t\t\t\t\t\t\t\t\t\t<LazyImage src={`${process.env.PUBLIC_URL}/img/jpg/${el.rsc.name}_${el.responsive.main}.jpg`} alt=\"\" />\r\n\t\t\t\t\t\t\t\t\t\t<div className=\"cover\"></div>\r\n\t\t\t\t\t\t\t\t\t\t<div className=\"desc\">\r\n\t\t\t\t\t\t\t\t\t\t\t<p className=\"pro-tit\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tprops.language\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t? el.projectName.eng\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t: el.projectName.kor\r\n\t\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t\t</p>\r\n\t\t\t\t\t\t\t\t\t\t\t<div className=\"tags\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tel.skills.map((element, j)=>{\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\treturn(\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<span className=\"tag\" key={j}>{element}</span>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t)\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t</a>\r\n\t\t\t\t\t\t\t\t</li>\r\n\t\t\t\t\t\t\t)\r\n\t\t\t\t\t\t})\r\n\t\t\t\t\t}\r\n\t\t\t\t</ul>\r\n\t\t\t</section>\r\n\t\t</div>\r\n\t)\r\n}\r\n\r\nexport default Test;"],"names":["_ref","src","alt","imgRef","useRef","useEffect","console","log","observer","IntersectionObserver","entries","forEach","entry","isIntersecting","current","unobserve","observe","_jsx","ref","props","imageUrls","projectList","el","i","push","concat","process","rsc","name","responsive","main","isLoading","setIsLoading","useState","modal","setModal","target","setTarget","imageLoadStatus","Array","length","fill","loadedImageCount","handleImageLoad","index","imageUrl","image","Image","onload","_jsxs","className","children","Modal","language","setLanguage","map","href","onClick","e","preventDefault","LazyImage","projectName","eng","kor","skills","element","j"],"sourceRoot":""}